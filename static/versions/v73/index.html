<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë™ì•„Â·ë™ì„œ ê¸€ë¡œì»¬ ì—°í•©ëŒ€í•™ v73 (Mobile Focus Carousel)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/gh/sunn-us/SUIT/fonts/static/woff2/SUIT.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['SUIT', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    },
                    colors: {
                        brand: {
                            blue: '#4132CC', 
                            mint: '#00BEB5',
                            dark: '#1d1d1f', 
                            bg: '#EBECFA',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { background-color: #E5E7EB; color: #1d1d1f; font-family: 'SUIT', sans-serif; }
        
        .mobile-frame {
            width: 320px; height: 640px;
            background: #F5F7FA; border-radius: 36px; border: 8px solid #1d1d1f;
            overflow: hidden; position: relative; margin: 40px auto;
            box-shadow: 0 20px 50px rgba(0,0,0,0.2);
        }
        .notch {
            position: absolute; top: 0; left: 50%; transform: translateX(-50%);
            width: 120px; height: 24px; background: #1d1d1f;
            border-bottom-left-radius: 12px; border-bottom-right-radius: 12px; z-index: 50;
        }
        
        /* Map Background */
        .map-bg {
            position: absolute; top: 0; left: 0; width: 100%; height: 70%;
            object-fit: cover; opacity: 0.5;
        }

        /* --- Carousel Container --- */
        .carousel-wrapper {
            position: absolute; bottom: 30px; left: 0; width: 100%; height: 120px;
            display: flex; align-items: center; justify-content: center;
        }

        /* 1. The Fixed Focus Frame (Purple Border) */
        .focus-frame {
            position: absolute;
            width: 280px; height: 100px;
            border: 2px solid #4132CC; border-radius: 20px;
            background: transparent;
            z-index: 20; pointer-events: none; /* Let touches pass through */
            box-shadow: 0 10px 30px rgba(65, 50, 204, 0.1);
        }

        /* 2. Scroll Container */
        .card-scroller {
            display: flex; gap: 12px;
            overflow-x: auto; scroll-snap-type: x mandatory;
            width: 100%; height: 100%;
            padding: 0 calc(50% - 140px); /* Center the first item */
            align-items: center;
            scrollbar-width: none;
        }
        .card-scroller::-webkit-scrollbar { display: none; }

        /* 3. The Cards */
        .slide-card {
            flex-shrink: 0;
            width: 280px; height: 100px;
            background: white; border-radius: 20px;
            scroll-snap-align: center;
            display: flex; overflow: hidden;
            opacity: 0.6; transform: scale(0.95); transition: 0.3s;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        
        /* Active Card Style (When centered) */
        .slide-card.active {
            opacity: 1; transform: scale(1);
            /* Border is handled by the fixed frame above, 
               but we make the card clean white to fill the frame */
        }

        .slide-img { width: 90px; height: 100%; object-fit: cover; }
        .slide-info { flex: 1; padding: 0 16px; display: flex; flex-direction: column; justify-content: center; }
        
        .slide-cat { font-size: 11px; font-weight: 700; color: #4132CC; margin-bottom: 4px; display: flex; align-items: center; gap: 4px; }
        .slide-title { font-size: 15px; font-weight: 800; color: #1d1d1f; line-height: 1.2; word-break: keep-all; margin-bottom: 2px; }
        .slide-loc { font-size: 11px; color: #888; }

        /* --- Map Pins --- */
        .map-pin {
            position: absolute; width: 12px; height: 12px;
            background: #999; border-radius: 50%;
            transform: translate(-50%, -50%); transition: 0.3s;
            border: 2px solid white;
        }
        .map-pin.active {
            background: #4132CC; transform: translate(-50%, -50%) scale(1.5);
            box-shadow: 0 0 0 4px rgba(65, 50, 204, 0.2);
        }

    </style>
</head>
<body class="bg-[#E5E7EB] text-[#1d1d1f] font-sans antialiased overflow-x-hidden">

    <div class="max-w-[1200px] mx-auto pt-10 px-6 md:px-10 text-center relative z-10">
        <h1 class="text-3xl font-extrabold mb-2 text-brand-dark">Focus Snap Carousel</h1>
        <p class="text-gray-500 text-sm">Fixed Border Frame + Sliding Cards.</p>
    </div>

    <div class="phone-frame">
        <div class="notch"></div>
        
        <!-- Header Text -->
        <div class="absolute top-12 left-0 w-full text-center px-6 z-10">
            <p class="text-brand-blue font-bold text-xs tracking-widest mb-2">FIELD CAMPUS</p>
            <h2 class="text-2xl font-black leading-tight text-gray-800">
                ìº í¼ìŠ¤ë¥¼ ë„˜ì–´,<br>í˜„ì¥ìœ¼ë¡œ.
            </h2>
        </div>

        <!-- Map & Pins -->
        <div class="relative w-full h-[65%] mt-20">
            <img src="../../pictures/DJI_0938 ë³µì‚¬.jpg" class="w-full h-full object-cover opacity-60 mix-blend-multiply grayscale">
            
            <!-- Pins (Matched with Card Index) -->
            <div id="pin-0" class="map-pin active" style="top: 40%; left: 35%;"></div>
            <div id="pin-1" class="map-pin" style="top: 55%; left: 65%;"></div>
            <div id="pin-2" class="map-pin" style="top: 70%; left: 45%;"></div>
            <div id="pin-3" class="map-pin" style="top: 30%; left: 75%;"></div>
        </div>

        <!-- Carousel Area -->
        <div class="carousel-wrapper">
            <!-- 1. Fixed Focus Frame (Always on top center) -->
            <div class="focus-frame"></div>

            <!-- 2. Scrollable List -->
            <div class="card-scroller" id="scroller">
                
                <!-- Card 0 -->
                <div class="slide-card active" data-index="0">
                    <img src="../../pictures/Field ìº í¼ìŠ¤ ì—°í•©ì „ê³µ í™ë³´ì˜ìƒ HIGH-MASTER 250915.mov_20260202_132226.682.jpg" class="slide-img">
                    <div class="slide-info">
                        <div class="slide-cat"><span class="text-lg">âš¡ï¸</span> ì „ë ¥ë°˜ë„ì²´</div>
                        <div class="slide-title">ë¶€ì‚°í…Œí¬ë…¸íŒŒí¬<br>ì „ë ¥ë°˜ë„ì²´ì„¼í„°</div>
                        <div class="slide-loc">ê¸ˆì •êµ¬ ì¥ì „ë™</div>
                    </div>
                </div>

                <!-- Card 1 -->
                <div class="slide-card" data-index="1">
                    <img src="../../pictures/Field ìº í¼ìŠ¤ ì—°í•©ì „ê³µ í™ë³´ì˜ìƒ HIGH-MASTER 250915.mov_20260202_132211.153.jpg" class="slide-img">
                    <div class="slide-info">
                        <div class="slide-cat text-brand-mint"><span class="text-lg">ğŸ¨</span> ë””ì§€í„¸ ì½˜í…ì¸ </div>
                        <div class="slide-title">ë¶€ì‚°ì½˜í…ì¸ ì½”ë¦¬ì•„ë©<br>ë©”ì¸ ì„¼í„°</div>
                        <div class="slide-loc">í•´ìš´ëŒ€êµ¬ ìš°ë™</div>
                    </div>
                </div>

                <!-- Card 2 -->
                <div class="slide-card" data-index="2">
                    <img src="../../pictures/464A4461.jpg" class="slide-img">
                    <div class="slide-info">
                        <div class="slide-cat text-indigo-500"><span class="text-lg">ğŸŒŠ</span> ìŠ¤ë§ˆíŠ¸ í•´ì–‘</div>
                        <div class="slide-title">í•´ì–‘í”ŒëœíŠ¸ì—°êµ¬ì†Œ<br>ì‹¬í•´ê³µí•™ìˆ˜ì¡°</div>
                        <div class="slide-loc">ê°•ì„œêµ¬ ìƒê³¡ë™</div>
                    </div>
                </div>

                <!-- Card 3 -->
                <div class="slide-card" data-index="3">
                    <img src="../../pictures/Field ìº í¼ìŠ¤ ì—°í•©ì „ê³µ í™ë³´ì˜ìƒ HIGH-MASTER 250915.mov_20260202_132234.075.jpg" class="slide-img">
                    <div class="slide-info">
                        <div class="slide-cat text-pink-500"><span class="text-lg">ğŸ¥</span> ë°”ì´ì˜¤ í—¬ìŠ¤</div>
                        <div class="slide-title">ëŒ€í•™ë³‘ì› ì•”ì„¼í„°<br>ìŠ¤ë§ˆíŠ¸ ë³‘ë™</div>
                        <div class="slide-loc">ì„œêµ¬ ì•”ë‚¨ë™</div>
                    </div>
                </div>

            </div>
        </div>

    </div>

    <script>
        const scroller = document.getElementById('scroller');
        const cards = document.querySelectorAll('.slide-card');
        const pins = document.querySelectorAll('.map-pin');

        // Intersection Observer to detect centered card
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const index = entry.target.getAttribute('data-index');
                    
                    // Activate Card
                    cards.forEach(c => c.classList.remove('active'));
                    entry.target.classList.add('active');

                    // Activate Pin
                    pins.forEach(p => p.classList.remove('active'));
                    document.getElementById(`pin-${index}`).classList.add('active');
                }
            });
        }, {
            root: scroller,
            threshold: 0.6 // 60% visible = active
        });

        cards.forEach(card => observer.observe(card));
    </script>

</body>
</html>
